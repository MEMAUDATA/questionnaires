<!DOCTYPE html>
<html lang="fr">
  <head>
      <!-- Author's details-->
      <meta name="author" content="Nicolas Vannson">
      <meta name="contact" content="hello@memau.eu">
      <meta name="license" content="EUPLv1.2">
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/3.0.0/jspdf.umd.min.js"></script>
      <script src= https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js ></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
      <link rel="stylesheet" href="/style.css">
      <style>
        /* style is within the style.css sheet */
      </style>
     <title>KHALFA</title>
  </head>
  <body>
    <h1>Questionnaire de sensibilité auditive (hyperacousie)</h1>
    <p>Khalfa, 2022</p>

    <br>

    <form id="KHALFA">
      <table>
        <thead>
          <tr>
            <th>Questions</th>
            <th>Non</th>
            <th>Oui un peu</th>
            <th>Oui<br> modérément</th>
            <th>Oui<br>beaucoup</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="Question_Khalfa">Vous arrive-t-il d'utiliser des bouchons, boules Quiès, pour limiter votre perception du bruit?</td>
            <td><input type="radio" name="hq1" value="0"></td>
            <td><input type="radio" name="hq1" value="1"></td>
            <td><input type="radio" name="hq1" value="2"></td>
            <td><input type="radio" name="hq1" value="3"></td>
          </tr>
          <tr>
            <td class="Question_Khalfa">Avez-vous des difficultés à ne plus faire attention aux sons qui vous entourent dans les situations de la vie quotidienne ?</td>
            <td><input type="radio" name="hq2" value="0"></td>
            <td><input type="radio" name="hq2" value="1"></td>
            <td><input type="radio" name="hq2" value="2"></td>
            <td><input type="radio" name="hq2" value="3"></td>
          </tr>
          <tr>
            <td class="Question_Khalfa">Êtes-vous gêné(e) pour lire dans un environnement bruyant ou sonore ?</td>
            <td><input type="radio" name="hq3" value="0"></td>
            <td><input type="radio" name="hq3" value="1"></td>
            <td><input type="radio" name="hq3" value="2"></td>
            <td><input type="radio" name="hq3" value="3"></td>
          </tr>
          <tr>
            <td class="Question_Khalfa">Êtes-vous gêné(e) pour vous concentrer dans un environnement bruyant ?</td>
            <td><input type="radio" name="hq4" value="0"></td>
            <td><input type="radio" name="hq4" value="1"></td>
            <td><input type="radio" name="hq4" value="2"></td>
            <td><input type="radio" name="hq4" value="3"></td>
          </tr>
          <tr>
            <td class="Question_Khalfa">Éprouvez-vous des difficultés pour entendre une conversation au milieu d'un environnement bruyant ?</td>
            <td><input type="radio" name="hq5" value="0"></td>
            <td><input type="radio" name="hq5" value="1"></td>
            <td><input type="radio" name="hq5" value="2"></td>
            <td><input type="radio" name="hq5" value="3"></td>
          </tr>
          <tr>
            <td class="Question_Khalfa">Certaines personnes de votre entourage vous ont-elles déjà fait remarquer que vous supportez mal le bruit ou certains sons ?</td>
            <td><input type="radio" name="hq6" value="0"></td>
            <td><input type="radio" name="hq6" value="1"></td>
            <td><input type="radio" name="hq6" value="2"></td>
            <td><input type="radio" name="hq6" value="3"></td>
          </tr>
          <tr>
            <td class="Question_Khalfa">Êtes-vous particulièrement dérangé(e), voire gêné(e), par le bruit de la rue ?</td>
            <td><input type="radio" name="hq7" value="0"></td>
            <td><input type="radio" name="hq7" value="1"></td>
            <td><input type="radio" name="hq7" value="2"></td>
            <td><input type="radio" name="hq7" value="3"></td>
          </tr>
          <tr>
            <td class="Question_Khalfa">Le bruit dans certaines situations sociales (boîtes de nuit, bars, concerts, feux d'artifices, cocktails...) vous est-il pénible ?</td>
            <td><input type="radio" name="hq8" value="0"></td>
            <td><input type="radio" name="hq8" value="1"></td>
            <td><input type="radio" name="hq8" value="2"></td>
            <td><input type="radio" name="hq8" value="3"></td>
          </tr>
          <tr>
            <td class="Question_Khalfa">Si l'on vous propose une activité (sortie, cinéma, concert) pensez-vous tout de suite au bruit que vous aurez à supporter ?</td>
            <td><input type="radio" name="hq9" value="0"></td>
            <td><input type="radio" name="hq9" value="1"></td>
            <td><input type="radio" name="hq9" value="2"></td>
            <td><input type="radio" name="hq9" value="3"></td>
          </tr>
          <tr>
            <td class="Question_Khalfa">Vous arrive-t-il de refuser des invitations ou des sorties par crainte du bruit que vous aurez à supporter ?</td>
            <td><input type="radio" name="hq10" value="0"></td>
            <td><input type="radio" name="hq10" value="1"></td>
            <td><input type="radio" name="hq10" value="2"></td>
            <td><input type="radio" name="hq10" value="3"></td>
          </tr>
          <tr>
            <td class="Question_Khalfa">Est-ce qu'un bruit ou un son précis vous dérange plus dans une atmosphère silencieuse que dans une pièce légèrement bruyante ?</td>
            <td><input type="radio" name="hq11" value="0"></td>
            <td><input type="radio" name="hq11" value="1"></td>
            <td><input type="radio" name="hq11" value="2"></td>
            <td><input type="radio" name="hq11" value="3"></td>
          </tr>
          <tr>
            <td class="Question_Khalfa">Votre capacité de concentration dans le bruit est-elle diminuée par le stress ou la fatigue ?</td>
            <td><input type="radio" name="hq12" value="0"></td>
            <td><input type="radio" name="hq12" value="1"></td>
            <td><input type="radio" name="hq12" value="2"></td>
            <td><input type="radio" name="hq12" value="3"></td>
          </tr>
          <tr>
            <td class="Question_Khalfa">Votre capacité de concentration dans le bruit est-elle diminuée en fin de journée ?</td>
            <td><input type="radio" name="hq13" value="0"></td>
            <td><input type="radio" name="hq13" value="1"></td>
            <td><input type="radio" name="hq13" value="2"></td>
            <td><input type="radio" name="hq13" value="3"></td>
          </tr>
          <tr>
            <td class="Question_Khalfa">Est-ce que le bruit ou certains sons vous stressent ou vous énervent ?</td>
            <td><input type="radio" name="hq14" value="0"></td>
            <td><input type="radio" name="hq14" value="1"></td>
            <td><input type="radio" name="hq14" value="2"></td>
            <td><input type="radio" name="hq14" value="3"></td>
          </tr>
        </tbody>
      </table>

      <div class="buttons-container">
        <button type="button" onclick="calculateScoreHyperacousie()">Calculer le Score</button>
        <button type="reset" onclick="resetFormHyperacousie()">Réinitialiser</button>
      </div>


      <div id="results"></div>

    </form>

    <script>
      function calculateScoreHyperacousie() {
        const form = document.getElementById("KHALFA");
        let score_hyperacousie = 0;

        for (let i = 1; i <= 14; i++) {
          const question = form.elements["hq" + i];
          for (let j = 0; j < question.length; j++) {
            if (question[j].checked) {
              score_hyperacousie += parseInt(question[j].value);
              break;
            }
          }
        }

        displayResult_hyperacousie(score_hyperacousie);
      }

      function displayResult_hyperacousie(score_hyperacousie) {
        let result = "Le score est : " + score_hyperacousie + ". Ceci indique une";

        if (score_hyperacousie >= 0 && score_hyperacousie <= 14) {
          result += " gêne légère ou négligeable.";
        } else if (score_hyperacousie >= 15 && score_hyperacousie <= 28) {
          result += " gêne modérée.";
        } else if (score_hyperacousie >= 29 && score_hyperacousie <= 42) {
          result += " gêne importante.";
        }

        document.getElementById("results").innerHTML = result;
        document.getElementById("results").style.display = "block";
      }

      function resetFormHyperacousie() {
        document.getElementById("KHALFA").reset();
        document.getElementById("results").innerHTML = "";
        document.getElementById("results").style.display = "none";
      }
    </script>

  </body>
</html>

