<!DOCTYPE html>
<html lang="fr">
  <head>
     <!-- Author's details-->
     <meta name="author" content="Nicolas Vannson">
     <meta name="contact" content="hello@memau.eu">
     <meta name="license" content="EUPLv1.2">
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/3.0.0/jspdf.umd.min.js"></script>
     <script src= https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js ></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
     <link rel="stylesheet" href="/style.css">
     <style>
       /* style is within the style.css sheet */
     </style>
    <title>EHI</title>
  </head>
  <body>
    <h1>Edinburgh Handedness Inventory (EHI)</h1>
    <p>Oldfield, 1971 </p>
    <p><b>Consignes</b></p>
    <p>Veuillez sélectionner dans le menu déroulant, la façon dont
      vous vous servez de vos mains. Si votre préférence est tellement forte que vous ne
      considéreriez jamais votre autre main à moins d’y être forcé, veuillez l’indiquer en sélectionnant "Uniquement Main droite (ou gauche)". Si vous êtes indifférent, veuillez le préciser en choisissant "Pas de préférence".<br>
      Certaines activités nécessitent deux mains, c’est pourquoi la main la plus importante des
      deux est indiquée entre parenthèses.<br>
      Essayer de répondre à toutes les questions. Si vous n’avez aucune expérience de
      l’objet ou de la tâche mentionnée veuillez laisser la case vide.</p>
    <br>
    <form id="EHI">
      <table>
        <thead>
          <tr>
            <th>Question</th>
            <th>Réponse</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="Question_EHI">1. Avec quelle main écrivez-vous ?</td>
            <td>
              <select id="q1" class="EHI_menu">
                <option value="">Faire un choix</option>
                <option value="+2">Uniquement main droite</option>
                <option value="+1">Main droite </option>
                <option value="0"> Pas de préférence</option>
                <option value="-1">Main gauche</option>
                <option value="-2">Uniquement main gauche</option>
              </select>
            </td>
          </tr>
          <tr>
            <td class="Question_EHI">2. Avec quelle main dessinez-vous ?</td>
            <td>
              <select id="q2" class="EHI_menu">
                <option value="">Faire un choix</option>
                <option value="+2">Uniquement main droite</option>
                <option value="+1">Main droite </option>
                <option value="0"> Pas de préférence</option>
                <option value="-1">Main gauche</option>
                <option value="-2">Uniquement main gauche</option>
              </select>
            </td>
          </tr>
          <tr>
            <td class="Question_EHI">3. Avec quelle main lancez-vous une balle pour viser un objectif ?</td>
            <td>
              <select id="q3" class="EHI_menu">
                <option value="">Faire un choix</option>
                <option value="+2">Uniquement main droite</option>
                <option value="+1">Main droite </option>
                <option value="0"> Pas de préférence</option>
                <option value="-1">Main gauche</option>
                <option value="-2">Uniquement main gauche</option>
              </select>
            </td>
          </tr>
          <tr>
            <td class="Question_EHI">4. Avec quelle main tenez-vous une paire de ciseaux ?</td>
            <td>
              <select id="q4" class="EHI_menu">
                <option value="">Faire un choix</option>
                <option value="+2">Uniquement main droite</option>
                <option value="+1">Main droite </option>
                <option value="0"> Pas de préférence</option>
                <option value="-1">Main gauche</option>
                <option value="-2">Uniquement main gauche</option>
              </select>
            </td>
          </tr>
          <tr>
            <td class="Question_EHI">5. Avec quelle main utilisez-vous une brosse à dents ?</td>
            <td>
              <select id="q5" class="EHI_menu">
                <option value="">Faire un choix</option>
                <option value="+2">Uniquement main droite</option>
                <option value="+1">Main droite </option>
                <option value="0"> Pas de préférence</option>
                <option value="-1">Main gauche</option>
                <option value="-2">Uniquement main gauche</option>
              </select>
            </td>
          </tr>
          <tr>
            <td class="Question_EHI">6. Avec quelle main tenez-vous un couteau pour couper (sans fourchette) ?</td>
            <td>
              <select id="q6" class="EHI_menu">
                <option value="">Faire un choix</option>
                <option value="+2">Uniquement main droite</option>
                <option value="+1">Main droite </option>
                <option value="0"> Pas de préférence</option>
                <option value="-1">Main gauche</option>
                <option value="-2">Uniquement main gauche</option>
              </select>
            </td>
          </tr>
          <tr>
            <td class="Question_EHI">7. Avec quelle main tenez-vous une cuillère ?</td>
            <td>
              <select id="q7" class="EHI_menu">
                <option value="">Faire un choix</option>
                <option value="+2">Uniquement main droite</option>
                <option value="+1">Main droite </option>
                <option value="0"> Pas de préférence</option>
                <option value="-1">Main gauche</option>
                <option value="-2">Uniquement main gauche</option>
              </select>
            </td>
          </tr>
          <tr>
            <td class="Question_EHI">8. Avec quelle main tenez-vous un marteau ?</td>
            <td>
              <select id="q8" class="EHI_menu">
                <option value="">Faire un choix</option>
                <option value="+2">Uniquement main droite</option>
                <option value="+1">Main droite </option>
                <option value="0"> Pas de préférence</option>
                <option value="-1">Main gauche</option>
                <option value="-2">Uniquement main gauche</option>
              </select>
            </td>
          </tr>
          <tr>
            <td class="Question_EHI">9. Avec quelle main tenez-vous une raquette de tennis ?</td>
            <td>
              <select id="q9" class="EHI_menu">
                <option value="">Faire un choix</option>
                <option value="+2">Uniquement main droite</option>
                <option value="+1">Main droite </option>
                <option value="0"> Pas de préférence</option>
                <option value="-1">Main gauche</option>
                <option value="-2">Uniquement main gauche</option>
              </select>
            </td>
          </tr>
          <tr>
            <td class="Question_EHI">10. Avec quelle main allumez-vous une allumette ?</td>
            <td>
              <select id="q10" class="EHI_menu">
                <option value="">Faire un choix</option>
                <option value="+2">Uniquement main droite</option>
                <option value="+1">Main droite </option>
                <option value="0"> Pas de préférence</option>
                <option value="-1">Main gauche</option>
                <option value="-2">Uniquement main gauche</option>
              </select>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="buttons-container">
        <button type="button" onclick="calculateScore()">Calculer le score</button>
        <button type="reset" onclick="resetForm()">Réinitialiser</button>
      </div>

    </form>

    <div id="results"></div>

    <script>
      function calculateScore() {
        let score = 0;
        let countR = 0
        let countL = 0;
        const form = document.getElementById('EHI');
        const dropdowns = form.querySelectorAll('select.menu');

        dropdowns.forEach((selectElement) => {
          const selectedValue = selectElement.value;
          // Check if a value is selected (not the empty "Faire un choix" option)
          if (selectedValue !== "") {
            const numericValue = parseInt(selectedValue);
            if (numericValue > 0) { countR += numericValue;}
            else if (numericValue < 0) {countL += Math.abs(numericValue);}
          }
        });

        // Forumule
        let denominateur= countL+countR;
        if (denominateur > 0) { 
          score = ((countR - countL) / denominateur) * 100;
          score = score.toFixed(2);
        } else {
          score = 0;
        }
        displayResult(score);
      }


      function displayResult(score) {
        let resultText = "Le quotient de latéralité est " + score + ", la main dominante est donc  ";

        if (score <= -40) {
          resultText += "la gauche";
        } else if (score >= 40) {
          resultText += "la droite";
        } else {
          resultText += "indéterminée";
        }

        document.getElementById("results").innerHTML = resultText;
        document.getElementById("results").style.display = "block";
      }


      function resetForm() {
        document.getElementById("EHI").reset();
        document.getElementById("results").innerHTML = "";
        document.getElementById("results").style.display = "none";
      }
    </script>
  </body>
</html>
