<!DOCTYPE html>
<html lang="fr">
  <head>
    <!-- Author's details-->
    <meta name="author" content="Nicolas Vannson">
    <meta name="contact" content="hello@memau.eu">
    <meta name="license" content="EUPLv1.2">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/3.0.0/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link rel="stylesheet" href="/style.css">
    <style>
      /* style is within the style.css sheet */
    </style>
    <title>RSES</title>
  </head>
  <body>
    <h1>Échelle d'Estime de Soi de Rosenberg</h1>
    <p>Rosenberg, 1979 (version originale)<br> Vallieres and Vallerand, 1990 (validation en français)</p>
    <p><b>Consignes </b> </p> 
    <p> Pour chacune des caractéristiques ou des descriptions suivantes, indiquez à quel point chacune est vraie pour vous en sélectionnant le chiffre approprié. Veuillez bien remplir toutes les propositions.</p>
    <br>
    <form id="RSES">
      <table>
        <thead>
        </thead>    
        <tbody>

          <tr>
            <td>
              <label>1. Je pense que je suis une personne de valeur, au moins égale à n'importe qui d'autre</label>
            </td>
          </tr>    
          <tr>
            <td>
              <div class="RSES_answers">
                <label><input type="radio" name="q1" value="1">1 - Tout à fait en désaccord</label>
                <label><input type="radio" name="q1" value="2">2 - Plutôt en désaccord</label>
                <label><input type="radio" name="q1" value="3">3 - Plutôt en accord</label>
                <label><input type="radio" name="q1" value="4">4 - Tout à fait en accord</label>
              </div>
            </td>
          </tr>


          <tr>
            <td>
              <label>2. Je pense que je possède un certain nombre de belles qualités</label>
            </td>
          </tr>

          <tr>
            <td>
              <div class="RSES_answers">
                <label><input type="radio" name="q2" value="1">1 - Tout à fait en désaccord</label>
                <label><input type="radio" name="q2" value="2">2 - Plutôt en désaccord</label>
                <label><input type="radio" name="q2" value="3">3 - Plutôt en accord</label>
                <label><input type="radio" name="q2" value="4">4 - Tout à fait en accord</label>
              </div>
            </td>
          </tr>


          <tr>
            <td>
              <label>3. Tout bien considéré, je suis porté à me considérer comme un raté</label>
            </td>
          </tr>
          <tr>
            <td>
              <div class="RSES_answers">
                <label><input type="radio" name="q3" value="1">1 - Tout à fait en désaccord</label>
                <label><input type="radio" name="q3" value="2">2 - Plutôt en désaccord</label>
                <label><input type="radio" name="q3" value="3">3 - Plutôt en accord</label>
                <label><input type="radio" name="q3" value="4">4 - Tout à fait en accord</label>
              </div>
            </td>
          </tr>


          <tr>
            <td>
              <label>4. Je suis capable de faire les choses aussi bien que la majorité des gens</label>
            </td>
          </tr>
          <tr>
            <td>
              <div class="RSES_answers">
                <label><input type="radio" name="q4" value="1">1 - Tout à fait en désaccord</label>
                <label><input type="radio" name="q4" value="2">2 - Plutôt en désaccord</label>
                <label><input type="radio" name="q4" value="3">3 - Plutôt en accord</label>
                <label><input type="radio" name="q4" value="4">4 - Tout à fait en accord</label>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <label>5. Je sens peu de raisons d'être fier de moi</label>
            </td>
          </tr>
          <tr>
            <td>
              <div class="RSES_answers">
                <label><input type="radio" name="q5" value="1">1 - Tout à fait en désaccord</label>
                <label><input type="radio" name="q5" value="2">2 - Plutôt en désaccord</label>
                <label><input type="radio" name="q5" value="3">3 - Plutôt en accord</label>
                <label><input type="radio" name="q5" value="4">4 - Tout à fait en accord</label>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <label>6. J'ai une attitude positive vis-à-vis moi-même</label>
            </td>
          </tr>
          <tr>
            <td>
              <div class="RSES_answers">
                <label><input type="radio" name="q6" value="1">1 - Tout à fait en désaccord</label>
                <label><input type="radio" name="q6" value="2">2 - Plutôt en désaccord</label>
                <label><input type="radio" name="q6" value="3">3 - Plutôt en accord</label>
                <label><input type="radio" name="q6" value="4">4 - Tout à fait en accord</label>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <label>7. Dans l'ensemble, je suis satisfait de moi</label>
            </td>
          </tr>
          <tr>
            <td>
              <div class="RSES_answers">
                <label><input type="radio" name="q7" value="1">1 - Tout à fait en désaccord</label>
                <label><input type="radio" name="q7" value="2">2 - Plutôt en désaccord</label>
                <label><input type="radio" name="q7" value="3">3 - Plutôt en accord</label>
                <label><input type="radio" name="q7" value="4">4 - Tout à fait en accord</label>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <label>8. J'aimerais avoir plus de respect pour moi-même</label>
            </td>
          </tr>

          <tr>
            <td>
              <div class="RSES_answers">
                <label><input type="radio" name="q8" value="1">1 - Tout à fait en désaccord</label>
                <label><input type="radio" name="q8" value="2">2 - Plutôt en désaccord</label>
                <label><input type="radio" name="q8" value="3">3 - Plutôt en accord</label>
                <label><input type="radio" name="q8" value="4">4 - Tout à fait en accord</label>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <label>9. Parfois je me sens vraiment inutile</label>
            </td>
          </tr>

          <tr>
            <td>
              <div class="RSES_answers">
                <label><input type="radio" name="q9" value="1">1 - Tout à fait en désaccord</label>
                <label><input type="radio" name="q9" value="2">2 - Plutôt en désaccord</label>
                <label><input type="radio" name="q9" value="3">3 - Plutôt en accord</label>
                <label><input type="radio" name="q9" value="4">4 - Tout à fait en accord</label>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <label>10. Il m'arrive de penser que je suis un bon à rien</label>
            </td>
          </tr>

          <tr>
            <td>
              <div class="RSES_answers">
                <label><input type="radio" name="q10" value="1">1 - Tout à fait en désaccord</label>
                <label><input type="radio" name="q10" value="2">2 - Plutôt en désaccord</label>
                <label><input type="radio" name="q10" value="3">3 - Plutôt en accord</label>
                <label><input type="radio" name="q10" value="4">4 - Tout à fait en accord</label>
              </div>
            </td>
          </tr>

        </tbody>
      </table>

      <div class="buttons-container">
        <button type="button" onclick="calculateScore()">Calculer le score</button>
        <button type="reset" onclick="resetForm()">Réinitialiser</button>
      </div>

    </form>

    <div id="results"></div>

    <script>

      function calculateScore() {
        let score = 0;
        let allAnswered = true; // Flag to track if all questions have been answered

        for (let i = 1; i <= 10; i++) {
          let q = document.querySelector(`input[name="q${i}"]:checked`);

          if (!q) { // Check if a radio button for the current question is not checked
            allAnswered = false;
            break; // Exit the loop early if a question is unanswered
          }

          let reponse = parseInt(q.value); // Convert the value to a number

          // Inverser le score for negative questions (3, 5, 8, 9 and 10)
          if ([3, 5, 8, 9, 10].includes(i)) {
            score += 5 - reponse;
          } else {
            score += reponse;
          }
        } // end for loop

        if (allAnswered) {
          afficherResultat(score); // Call your existing function to display the result
        } else {
          // Display a message to the user that not all questions have been answered
          const resultDiv = document.getElementById("results"); // Assuming you have a div with id="result"
          resultDiv.innerHTML = "<p class=Error_message_not_all_answered>Veuillez répondre svp à toutes les questions avant de calculer le score!</p>";
          resultDiv.style.display = "block"; // Make sure the result div is visible
        }
      } // end function


      function afficherResultat(score) {


        let display = "<h2>Résultats</h2>";
        display += "Score: " + score;

        if (score <= 25) {
          display += "<p>Votre score indique une très faible estime de soi.</p>";}
        else if (score > 25 && score <31) {
          display += "<p>Votre score indique une faible estime de soi.</p>";}
        else if (score >= 31 && score <34) {
          display += "<p>Votre score suggère une estime de soi moyenne.</p>";}
        else if (score >= 34 && score <39) {
          display += "<p>Votre score suggère une estime de soi forte.</p>";}    
        else  {
          display += "<p>Votre score suggère une estime de soi très forte.</p>";}


        document.getElementById("results").innerHTML = display;
        document.getElementById("results").style.display = "block";

      }// end function



      function resetForm() {
        document.getElementById("RSES").reset();
        document.getElementById("results").innerHTML = "";
        document.getElementById("results").style.display = "none"; }// end function

    </script>

  </body>
</html>
